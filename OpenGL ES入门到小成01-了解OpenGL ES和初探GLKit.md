### 前言

OpenGL ES (OpenGL for Embedded Systems) 是以手持和嵌入式为目标的高级3D图形应
用程序编程接口(API). OpenGL ES 是⽬前智能手机中占据统治地位的图形API.⽀持的平
台: iOS, Andriod , BlackBerry ,bada ,Linux ,Windows。iOS 允许OpenGL ES通过底层图形处理的强大功能，可以绘制复杂的2D、3D图形，进行复杂着色的计算。

其中安卓主要还是采用OpenGL ES，而iOS在iOS 12开始被废弃，但是仍然可用，官方主推Metal，但是有很多应用还是基于OpenGL ES写的，还没那么快直接迁移至Metal，就像Swift和OC一样。而且Metal的也是采取了OpenGL ES的思想和做法自己开发的一个图形接口集合，因为高度封装所以使用很方便，但是想要熟悉了解还得深入底层，那么了解和学习OpenGL ES是很有必要的，毕竟这也是iOS12之前的做法。



### 渲染流程

![渲染流程图](https://github.com/oymuzi/OpenGLDocs/raw/master/Resources/OpenGL ES图形管线.png)

#### 顶点着色器

> 着色器程序是执行顶点操作的顶点着色器程序源代码/可执行文件。

> 可接收数据有：
>
> Attribute：接收顶点数组数据
>
> Uniform：接收顶点/片元着色器使用的不变化的数据
>
> 采样器：接收纹理的特殊统一变量



**顶点着色器的主要任务是：①计算矩形变换位置  ②根据光照公式计算颜色  ③ 生成/变换纹理。顶点着色器可以执行自定义计算进行变换，以及实现光照效果等传统不能实现的功能。**



#### 图元装配

> 根据图元类型和顶点数据计算生成一个个的图元，裁剪、透视分割和视口变换操作都是在这个阶段进行，之后进入光栅化阶段。



#### 光栅化

> 在这个阶段将会把图元装配后的图元(点、线、三角形等)转化成一组二维片段的过程。二维片段有屏幕坐标、颜色属性、纹理坐标等数据，也就是屏幕上可绘制的像素，像素含有以上属性、数据，转化的片段将有片元着色器进行处理。



#### 片元着色器

> 可接受的数据：
>
> 图元变量：接收光栅化后的片元
>
> Uniform：接收顶点/片元着色器使用的不变化的数据
>
> 采样器：接收纹理的特殊统一变量



**片元着色器的主要任务：①计算颜色  ②获取纹理值  ③往像素填充颜色(颜色值/纹理值)。可以将图片/视频中的每帧的每像素中颜色进行修改，常见的有添加滤镜、美化图片等操作。**

